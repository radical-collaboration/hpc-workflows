# Global arguments
global:

  # Set this to 1 to only print help messages from AnEn executables
  # without running any real computation.
  #
  print-help: 0

  # Set this to 1 to print progress information from the runme.py script.
  print-progress: 1

  # Set this to 1 to print tasks in a pretty dictionary form without
  # actually running them.
  #
  print-tasks-only: 1

  # Set this to 1 to run tasks serially.
  run-serially: 0

  task-count: 80

  num-forecast-parameters: 17
  num-observation-parameters: 17
  num-grids: 262792
  num-flts: 53

  observation-id: 0

  search-month-start: "201701"
  search-month-end: "201712"

  # Folders on Cheyenne
  sds-folder: "/glade/u/home/wuh20/scratch/data/AnEn/sds/"
  sims-folder: "/glade/u/home/wuh20/scratch/data/AnEn/sims/"
  analogs-folder: "/glade/u/home/wuh20/scratch/data/AnEn/analogs/"
  forecasts-folder: "/glade/u/home/wuh20/scratch/data/AnEn/forecasts/"
  mapping-file: "/glade/u/home/wuh20/scratch/data/AnEn/sds/mapping.txt"
  observations-folder: "/glade/u/home/wuh20/scratch/data/AnEn/observations/"
  test-forecast-nc: "/glade/u/home/wuh20/scratch/data/AnEn/forecasts/201802.nc"


# Standard deviation calculation stage
stage-sd-calc:
  executable: "standardDeviationCalculator"
  cpu:
    processes: 1
    process-type: 'MPI'
    threads-per-process: 36
    thread-type: 'OpenMP'
  pre-exec: ["export PATH=$PATH:/glade/u/home/wuh20/github/AnalogsEnsemble/output/bin"]
  args:
    verbose: 3


# Similarity calculation stage
stage-sim-calc:
  executable: "similarityCalculator"
  cpu:
    processes: 1
    process-type: 'MPI'
    threads-per-process: 36
    thread-type: 'OpenMP'
  pre-exec: ["export PATH=$PATH:/glade/u/home/wuh20/github/AnalogsEnsemble/output/bin"]
  args:
    verbose: 3


# Similarity combination stage
stage-sim-comb:
  executable: "fileAggregate"
  cpu:
    processes: 1
    process-type: 'MPI'
    threads-per-process: 36
    thread-type: 'OpenMP'
  pre-exec: ["export PATH=$PATH:/glade/u/home/wuh20/github/AnalogsEnsemble/output/bin"]
  args:
    verbose: 3


# Observation combination stage
stage-obs-comb:
  executable: "fileAggregate"
  cpu:
    processes: 1
    process-type: 'MPI'
    threads-per-process: 36
    thread-type: 'OpenMP'
  pre-exec: ["export PATH=$PATH:/glade/u/home/wuh20/github/AnalogsEnsemble/output/bin"]
  args:
    verbose: 3


# Analog selection stage
stage-analog-select:
  executable: "analogSelector"
  cpu:
    processes: 1
    process-type: 'MPI'
    threads-per-process: 36
    thread-type: 'OpenMP'
  pre-exec: ["export PATH=$PATH:/glade/u/home/wuh20/github/AnalogsEnsemble/output/bin"]
  args:
    quick: 1
    verbose: 3
    members: 25
